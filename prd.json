{
  "productName": "PelangiManager Mobile UI Enhancement",
  "branchName": "feature/mobile-ui-enhancement",
  "overview": "Enhance PelangiManager mobile interface following UI/UX Pro Max guidelines. Focus on touch targets (min 44px), responsive layouts, and mobile-first design patterns.",
  "goals": [
    "All touch targets minimum 44x44px (CRITICAL)",
    "Table views default to card layout on mobile",
    "Reduce navigation density on mobile",
    "Fix modal/dialog overflow issues",
    "Improve form input consistency"
  ],
  "designSystem": {
    "touchTargets": "Minimum 44x44px for all interactive elements (48px preferred)",
    "spacing": "Use gap-2 (8px) minimum between touch elements",
    "typography": "Minimum 14px for body text, 16px for inputs on mobile",
    "colors": "Maintain existing brand colors with proper contrast",
    "breakpoints": {
      "mobile": "< 640px (sm:)",
      "tablet": "640px - 1024px",
      "desktop": ">= 1024px"
    }
  },
  "userStories": [
    {
      "id": "US-001",
      "title": "Fix small touch targets in check-out page",
      "priority": 1,
      "description": "Multiple buttons in check-out.tsx use h-8 (32px) which is below the 44px minimum. Update all button heights to h-11 (44px) or h-12 (48px) on mobile.",
      "acceptanceCriteria": [
        "All buttons have minimum height of 44px on mobile (h-11)",
        "Icon buttons have minimum size 44x44px",
        "Use size='default' instead of size='sm' for mobile buttons",
        "Add responsive sizing: 'h-11 sm:h-9' pattern for mobile-first",
        "TypeScript compiles without errors"
      ],
      "technicalNotes": [
        "File: client/src/pages/check-out.tsx",
        "Lines to fix: ~786, 841, 858, 883, 894",
        "Pattern: Change 'h-8 text-xs' to 'h-11 text-sm sm:h-9 sm:text-xs'",
        "Also check action buttons in table rows"
      ],
      "dependencies": [],
      "estimatedComplexity": "small",
      "passes": true
    },
    {
      "id": "US-002",
      "title": "Default to card view on mobile for guest lists",
      "priority": 2,
      "description": "Table view requires horizontal scrolling on mobile. Implement mobile-first view selection that defaults to card/list view on small screens.",
      "acceptanceCriteria": [
        "Detect screen width and default to 'card' or 'list' view on mobile (<640px)",
        "Keep table view available but not default on mobile",
        "Use useMediaQuery or similar to detect mobile",
        "View preference persists in localStorage",
        "TypeScript compiles without errors"
      ],
      "technicalNotes": [
        "File: client/src/pages/check-out.tsx",
        "Add useEffect to check window.innerWidth on mount",
        "Pattern: if (window.innerWidth < 640) setViewMode('card')",
        "Or use Tailwind's useMediaQuery from @/hooks if available"
      ],
      "dependencies": [],
      "estimatedComplexity": "small",
      "passes": true
    },
    {
      "id": "US-003",
      "title": "Optimize mobile bottom navigation density",
      "priority": 3,
      "description": "Current mobile nav has 5 columns with gap-1 and text-[11px] labels which is cramped. Reduce to 4 main items with 'More' menu for secondary actions.",
      "acceptanceCriteria": [
        "Reduce main nav from 5 to 4 columns",
        "Increase gap from gap-1 to gap-2",
        "Increase label font from text-[11px] to text-xs (12px)",
        "Move least-used item to 'More' menu",
        "Icons remain at 24px (w-6 h-6)",
        "TypeScript compiles without errors"
      ],
      "technicalNotes": [
        "File: client/src/components/mobile-bottom-nav.tsx",
        "Lines 77-78: grid-cols-5 gap-1 → grid-cols-4 gap-2",
        "Analyze which nav item is least used (likely 'Cleaning' or 'History')",
        "Keep Dashboard, Check-in, Check-out, Settings as main items"
      ],
      "dependencies": [],
      "estimatedComplexity": "small",
      "passes": true
    },
    {
      "id": "US-004",
      "title": "Fix modal/dialog width overflow on mobile",
      "priority": 4,
      "description": "GuestDetailsModal uses max-w-2xl which exceeds mobile viewport. Add responsive max-width that respects safe areas.",
      "acceptanceCriteria": [
        "Modal uses max-w-[95vw] on mobile, max-w-2xl on desktop",
        "Add safe-area padding for notched devices",
        "Modal content scrolls properly within viewport",
        "Close button is easily tappable (44px target)",
        "TypeScript compiles without errors"
      ],
      "technicalNotes": [
        "File: client/src/components/guest-details-modal.tsx",
        "Line 155: max-w-2xl → 'max-w-[95vw] sm:max-w-2xl'",
        "Also check other modals: ExtendStayDialog, AlertDialog usage",
        "Pattern for all Dialog.Content: 'w-[95vw] max-w-lg sm:max-w-xl'"
      ],
      "dependencies": [],
      "estimatedComplexity": "small",
      "passes": true
    },
    {
      "id": "US-005",
      "title": "Standardize form input heights for mobile",
      "priority": 5,
      "description": "Form inputs vary in touch target size. Apply consistent mobile-input class (h-12, 48px) to all form fields on mobile.",
      "acceptanceCriteria": [
        "All Input components have h-12 on mobile",
        "All Select triggers have h-12 on mobile",
        "Pattern: 'h-12 sm:h-10' for mobile-first sizing",
        "Date pickers and custom inputs also follow pattern",
        "TypeScript compiles without errors"
      ],
      "technicalNotes": [
        "Files: client/src/pages/check-in.tsx, all check-in/ components",
        "Look for <Input>, <Select>, <SelectTrigger> components",
        "index.css already has .mobile-input class - consider using it",
        "Or add responsive height classes directly"
      ],
      "dependencies": [],
      "estimatedComplexity": "medium",
      "passes": true
    },
    {
      "id": "US-006",
      "title": "Fix step progress indicator for small screens",
      "priority": 6,
      "description": "The check-in step progress indicator overflows on screens under 320px. Make it responsive with stacked layout or simplified dots on mobile.",
      "acceptanceCriteria": [
        "Progress indicator fits on 320px screens without overflow",
        "Option 1: Stack vertically on very small screens",
        "Option 2: Use simplified dots instead of labels on mobile",
        "Active step clearly visible",
        "TypeScript compiles without errors"
      ],
      "technicalNotes": [
        "File: client/src/components/check-in/StepProgressIndicator.tsx",
        "Lines 9-23: flex with gap-3 and w-10 connectors",
        "Add responsive: 'flex-col xs:flex-row' or hide connectors on mobile",
        "Consider: 'hidden xs:inline' for step labels on very small screens"
      ],
      "dependencies": [],
      "estimatedComplexity": "small",
      "passes": true
    },
    {
      "id": "US-007",
      "title": "Improve header layout on mobile",
      "priority": 7,
      "description": "Header user info and buttons wrap awkwardly on small screens. Simplify header for mobile with collapsible user menu.",
      "acceptanceCriteria": [
        "User info collapses to avatar-only on mobile",
        "Username shown on tap/hover or in dropdown",
        "Logo remains visible and properly sized",
        "Header height consistent (not expanding with wraps)",
        "TypeScript compiles without errors"
      ],
      "technicalNotes": [
        "File: client/src/components/header.tsx",
        "Line 15: px-6 padding might be excessive for mobile → px-4",
        "Hide username with 'hidden sm:inline' class",
        "Keep avatar visible with dropdown for user actions"
      ],
      "dependencies": [],
      "estimatedComplexity": "small",
      "passes": true
    },
    {
      "id": "US-008",
      "title": "Add touch feedback to all interactive cards",
      "priority": 8,
      "description": "Interactive cards should have cursor-pointer and visible hover/active states for touch feedback.",
      "acceptanceCriteria": [
        "All clickable cards have cursor-pointer class",
        "Cards have active:scale-[0.98] for touch feedback",
        "Transition is smooth (150-200ms)",
        "No layout shift on hover/active states",
        "TypeScript compiles without errors"
      ],
      "technicalNotes": [
        "Files: guest cards in check-out, capsule cards in maintenance",
        "Pattern: 'cursor-pointer transition-transform active:scale-[0.98]'",
        "Add 'touch-manipulation' to prevent 300ms delay on iOS",
        "Check: sortable-guest-table.tsx, capsule grid components"
      ],
      "dependencies": [],
      "estimatedComplexity": "small",
      "passes": true
    }
  ],
  "technicalContext": {
    "affectedAreas": [
      "client/src/pages/check-out.tsx - Touch targets, view mode",
      "client/src/components/mobile-bottom-nav.tsx - Navigation density",
      "client/src/components/guest-details-modal.tsx - Modal width",
      "client/src/pages/check-in.tsx - Form inputs",
      "client/src/components/check-in/ - Step indicator, inputs",
      "client/src/components/header.tsx - Header layout"
    ],
    "testingStrategy": "Test at 375px (iPhone SE), 390px (iPhone 14), 768px (iPad). Use Chrome DevTools device mode.",
    "rollbackPlan": "Changes are CSS-only or additive. Revert specific commits if issues arise."
  },
  "uiuxGuidelines": {
    "touchTargets": "44x44px minimum (48px preferred) - WCAG 2.5.5",
    "spacing": "8px minimum between interactive elements",
    "fontSize": "16px minimum for inputs to prevent iOS zoom",
    "contrast": "4.5:1 minimum for text",
    "animation": "150-300ms for micro-interactions, respect prefers-reduced-motion"
  }
}
